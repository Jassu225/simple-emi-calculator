(window["webpackJsonpsimple-emi-calculator"]=window["webpackJsonpsimple-emi-calculator"]||[]).push([[0],{159:function(e,t,n){e.exports=n(387)},375:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){"use strict";n.r(t);n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(75),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(207),n(208),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(271),n(272),n(273),n(274),n(277),n(278),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(147),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(369),n(154);var a=n(1),r=n.n(a),o=n(87),i=n.n(o),l=(n(374),n(375),n(18)),s=n(19),c=n(21),u=n(20),d=n(22),m=n(30),p=(n(380),n(56)),h=(n(381),{loanAmountRange:{min:500,max:5e3,unit:"USD"},loanDurationRange:{min:6,max:24,unit:"months"},apiRootURL:"https://ftl-frontend-test.herokuapp.com/interest"}),f=n(157),y=n.n(f),v=function(e,t){return{type:e,payload:t}},g="updateLoanAmount",b="updateLoanDuration",O="loadFromHistory",D="clearHistory",E="requestInitiated",j="responseReceived",w="requestFailed",N="hideAlert",S={updateLoanAmount:function(e){return v(g,e)},updateLoanDuration:function(e){return v(b,e)},loadFromHistory:function(e){return v(O,e)},clearHistory:function(e){return v(D)},requestInitiated:function(e){return v(E)},responseReceived:function(e){return v(j,e)},requestFailed:function(e){return v(w,e)},hideAlert:function(e){return v(N)},getData:function(e){var t=e.loanAmount,n=e.loanDuration,a=h.loanAmountRange,r=h.loanDurationRange;return t&&n&&!isNaN(parseFloat(t))&&!isNaN(parseInt(n))&&t>=a.min&&t<=a.max&&n>=r.min&&n<=r.max?function(e){var a=!1;return e(S.requestInitiated()),y()("".concat(h.apiRootURL,"?amount=").concat(t,"&numMonths=").concat(n)).then(function(e){return e.json()},function(t){e(S.requestFailed({error:t})),a=!0}).then(function(t){a||e(S.responseReceived(t))})}:function(e){return e(S.requestFailed({error:""}))}}};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).historyItemClicked=function(e){var t=n.props.historyData[e];n.props.loadDataFromHistory(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{addToHistory:e!=n.props.historyData.length-1}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){for(var e=this,t=[],n=this.props.historyData?this.props.historyData:[],a=function(a){t.push(r.a.createElement("div",{className:"history-item",key:a},r.a.createElement("div",{className:"history-loan-amount"},n[a].principal.amount+" "+n[a].principal.currency),r.a.createElement("div",{className:"history-loan-duration"},n[a].numPayments+" "+h.loanDurationRange.unit),r.a.createElement("div",{className:"action-container"},r.a.createElement("div",{className:"action btn",onClick:function(t){return e.historyItemClicked(a)}},"view"))))},o=n.length-1;o>=0;o--)a(o);return r.a.createElement("div",{className:"history"},r.a.createElement("div",{className:"history-header"},r.a.createElement("div",{className:"title"},"History"),r.a.createElement("div",{className:"clearBtn-container"},r.a.createElement("div",{className:"btn"+(t.length?"":" disabled"),onClick:this.props.clearHistory},"\u2715 \xa0 Clear")),r.a.createElement("div",{className:"sub-headers"},r.a.createElement("div",null,"Loan Amount"),r.a.createElement("div",null,"Duration"),r.a.createElement("div",null,"Action"))),r.a.createElement("div",{className:"history-content"},t.length?t:r.a.createElement("div",{className:"no-history"},"history goes here")))}}]),t}(a.Component),R=Object(m.b)(function(e){return{historyData:e.historyData}},function(e){return{loadDataFromHistory:function(t){return e(S.loadFromHistory(t))},clearHistory:function(t){return e(S.clearHistory())}}})(P),H=(n(382),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"main-header"},"EMI Info"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"interest-rate header"},"Interest Rate:"),r.a.createElement("div",{className:"interest-rate value"},this.props.interestRate),r.a.createElement("div",{className:"monthly-payment header"},"Monthly Payment:"),r.a.createElement("div",{className:"monthly-payment value"},this.props.monthlyPayment+" "+this.props.currencyUnit),r.a.createElement("div",{className:"total-payment header"},"Total Amount Payable:"),r.a.createElement("div",{className:"total-payment value"},this.props.totalPayableAmount)))}}]),t}(a.Component)),I=Object(m.b)(function(e){return{loanAmount:e.loanAmount,loanDuration:e.loanDuration,currencyUnit:e.currencyUnit,interestRate:e.interestRate,monthlyPayment:e.monthlyPayment,isFetchingData:e.isFetchingData,lastLoanDuration:e.lastLoanDuration,totalPayableAmount:e.totalPayableAmount}})(H),k=(n(383),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"title"},"fetching"),r.a.createElement("div",{className:"ring"})))}}]),t}(a.Component)),L=(n(384),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).hide=function(e){window.clearTimeout(n.timeoutID),n.setState({style:{top:"-2.5rem"}}),n.status=1},n.transitionEnded=function(e){1==n.status&&n.props.hideAlert()},n.state={style:{top:"-2.5rem"}},n.timeoutID=null,n.status=0,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.setTimeout(function(t){e.setState({style:{top:"0.7rem"}}),e.timeoutID=window.setTimeout(e.hide,3e3)},0)}},{key:"render",value:function(){var e=this.props.message?this.props.message:"some error occurred.";return r.a.createElement("div",{className:"alert-dialog",style:this.state.style,onTransitionEnd:this.transitionEnded},r.a.createElement("div",{className:"message"},e),r.a.createElement("div",{className:"closeBtn",onClick:this.hide},"\u2715"))}}]),t}(a.Component)),F=Object(m.b)(null,function(e){return{hideAlert:function(t){return e(S.hideAlert())}}})(L);n(385),n(386);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var U=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getIndex=function(e){var t=n.sliderObject.steps.findIndex(function(t){return t===e});return t>-1?t:0},n.adjustHandleLabel=function(e){var t=n.handle.current.children[0],a=window.getComputedStyle(t),r=a.getPropertyValue("font-size")+" '"+a.getPropertyValue("font-family")+"'",o=n.getWidth(r,t.textContent);n.setState({handleLabelStyle:{width:"calc("+o+" + 1rem)",left:"calc((-"+o+" / 2) - 0.5rem + 4px)"}})},n.mouseUpHandler=function(e){if(n.sliderObject.handleInfo.drag&&(n.sliderObject.handleInfo.drag=!1,n.sliderObject.onSlideEnd&&"function"===typeof n.sliderObject.onSlideEnd)){var t={value:n.sliderObject.steps[n.sliderObject.handleInfo.value],handleInDrag:!1};n.props.data&&(t=x({},t,{userData:n.props.data})),n.sliderObject.onSlideEnd(e,t)}},n.handleMouseDown=function(e){e.stopPropagation();var t=e.target.getBoundingClientRect();n.sliderObject.handleInfo.pageX=t.left+t.width/2,n.sliderObject.handleInfo.pageY=t.top+t.height/2,n.sliderObject.handleInfo.drag=!0},n.dragElement=function(e){if(!n.sliderObject.handleInfo.drag)return!1;var t=n.slider.current,a=n.handle.current,r=n.sliderObject.handleInfo,o=r.value,i=o,l=n.sliderObject,s=l.totalPoints,c=l.min,u=l.max,d=t.getBoundingClientRect().width/s,m=a.getBoundingClientRect();r.pageX=m.left+m.width/2,r.pageY=m.top+m.height/2;var p=e.pageX-r.pageX;(i=o+(p<0?-Math.round(-p/d):Math.round(p/d)))<c?i=c:i>u&&(i=u);var h={value:l.steps[i],handleInDrag:n.sliderObject.handleInfo.drag};return n.props.data&&(h=x({},h,{userData:n.props.data})),i!=o&&i>=c&&i<=u&&(l.onSlide&&"function"===typeof l.onSlide||!l.onSlide)?(r.value=i,n.props.showHandleLabel&&n.dispatchEvent("resize",window),l.onSlide&&"function"===typeof l.onSlide&&l.onSlide(e,h)||!l.onSlide):void 0},n.sliderMouseDown=function(e){n.dispatchEvent("mousedown",n.handle.current),n.dragElement(e)},n.slider=r.a.createRef(),n.handle=r.a.createRef(),n.sliderObject={totalPoints:0,handleInfo:{value:0,pageX:-1,pageY:-1,drag:!1},min:0,max:0,steps:[],onSlide:null,onSlideEnd:null},n.state={handleLabelStyle:{}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.state)!=JSON.stringify(t)||JSON.stringify(this.props)!=JSON.stringify(e)}},{key:"componentWillMount",value:function(){var e=this.props.steps;Array.isArray(e)&&e.length>0&&(this.sliderObject.steps=e,this.sliderObject.totalPoints=e.length-1,this.sliderObject.max=e.length-1,this.sliderObject.onSlide=this.props.onSlide&&"function"===typeof this.props.onSlide?this.props.onSlide:null,this.sliderObject.onSlideEnd=this.props.onSlideEnd&&"function"===typeof this.props.onSlideEnd?this.props.onSlideEnd:null)}},{key:"componentDidMount",value:function(){var e=this;window.setTimeout(function(){var t=e.props.steps;Array.isArray(t)&&t.length>0&&(document.removeEventListener("mousedown",e.dragElement),document.addEventListener("mousemove",e.dragElement),document.removeEventListener("mouseup",e.mouseUpHandler),document.addEventListener("mouseup",e.mouseUpHandler),e.props.showHandleLabel&&(window.addEventListener("resize",e.adjustHandleLabel),e.dispatchEvent("resize",window)))},0)}},{key:"componentDidUpdate",value:function(){var e=this,t="",n=!1;this.props.value?t=this.props.value:n=!0,this.sliderObject.handleInfo.value=this.getIndex(t);var a=this.sliderObject,r=a.min,o=a.totalPoints,i=this.handle.current;this.sliderObject.handleInfo.value=n?this.sliderObject.handleInfo.value:this.getIndex(t),i.style.left=this.calcPosition(this.sliderObject.handleInfo.value,r,o,i),this.props.showHandleLabel&&window.setTimeout(function(t){return e.dispatchEvent("resize",window)},0)}},{key:"getWidth",value:function(e,t){var n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(t).width+"px"}},{key:"dispatchEvent",value:function(e,t){var n=new Event(e,{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}},{key:"calcPosition",value:function(e,t,n,a){return"calc("+((e-t)/n*100+"%")+" - "+a.getBoundingClientRect().width/2+"px)"}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui-slider"+(this.props.className?" "+this.props.className:""),ref:this.slider,onMouseDown:this.sliderMouseDown},r.a.createElement("div",{className:"ui-slider-handle",tabIndex:"1",draggable:!1,ref:this.handle,onMouseDown:this.handleMouseDown,onDragStart:function(e){return e.preventDefault()}},this.props.showHandleLabel&&r.a.createElement("div",{className:"ui-slider-handle-label",style:this.state.handleLabelStyle},this.props.value)))}}]),t}(a.Component),T=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onSlide=function(e,t){n.props.updateData(t.userData.action,{value:t.value,fetchFromDB:!t.handleInDrag})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"generateRange",value:function(e,t,n){for(var a=[],r=e;r<=t;r++)a.push(r+" "+n);return a}},{key:"render",value:function(){var e=this.generateRange(h.loanAmountRange.min,h.loanAmountRange.max,this.props.currencyUnit),t=this.generateRange(h.loanDurationRange.min,h.loanDurationRange.max,h.loanDurationRange.unit);return r.a.createElement("div",{className:"sliders"},r.a.createElement("div",{className:"header"},"Selections"),r.a.createElement("div",{className:"slider-selection loanAmount"},r.a.createElement("div",{className:"slider-selection-header"},"Loan Amount: "),r.a.createElement("div",{className:"slider-selection-value"},this.props.loanAmount+" "+this.props.currencyUnit)),r.a.createElement("div",{className:"slider-container"},r.a.createElement(U,{steps:e,data:{stateProp:"loanAmount",action:S.updateLoanAmount},showHandleLabel:!0,className:"loanAmountSlider",onSlide:this.onSlide,onSlideEnd:this.onSlide,value:this.props.loanAmountHandleValue})),r.a.createElement("div",{className:"slider-selection loanDuration"},r.a.createElement("div",{className:"slider-selection-header"},"Duration: "),r.a.createElement("div",{className:"slider-selection-value"},this.props.loanDuration+" "+h.loanDurationRange.unit)),r.a.createElement("div",{className:"slider-container"},r.a.createElement(U,{steps:t,data:{stateProp:"loanDuration",action:S.updateLoanDuration},showHandleLabel:!0,className:"loanDurationSlider",onSlide:this.onSlide,onSlideEnd:this.onSlide,value:this.props.loanDurationHandleValue})))}}]),t}(a.Component),M=Object(m.b)(function(e){return{loanAmount:e.loanAmount,loanDuration:e.loanDuration,currencyUnit:e.currencyUnit,loanAmountHandleValue:e.loanAmountHandleValue,loanDurationHandleValue:e.loanDurationHandleValue}},function(e){return{updateData:function(t,n){return e(t(n))}}})(T),V=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R,null),r.a.createElement(M,null)," ",r.a.createElement(I,null)," ",this.props.isFetchingData&&r.a.createElement(k,null),this.props.showAlert&&r.a.createElement(F,{message:"some error occurred. Please try again."}))}}]),t}(r.a.Component),_=Object(m.b)(function(e){return{isFetchingData:e.isFetchingData,showAlert:e.showAlert}})(V);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(57),X=n(158),J={getData:function(){var e=window.localStorage.getItem("history");return e?JSON.parse(e):[]},push:function(e){if(e){var t=this.getData();t.push(e),window.localStorage.setItem("history",JSON.stringify(t))}},clear:function(){window.localStorage.removeItem("history")}};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var W={loanAmount:h.loanAmountRange.min,currencyUnit:h.loanAmountRange.unit,loanDuration:h.loanDurationRange.min,interestRate:0,monthlyPayment:0,totalPayableAmount:"0 "+h.loanAmountRange.unit,historyData:J.getData(),loanAmountHandleValue:h.loanAmountRange.min+" "+h.loanAmountRange.unit,loanDurationHandleValue:h.loanDurationRange.min+" "+h.loanDurationRange.unit,addToHistory:!0,fetchData:!1,isFetchingData:!1,showAlert:!1,serverData:null},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var n=null;return t.payload&&(n=parseFloat(t.payload.value)),z({},e,{loanAmount:n=n&&isNaN(n)?e.loanAmount:n,loanAmountHandleValue:n+" "+h.loanAmountRange.unit,fetchData:t.payload.fetchFromDB});case b:var a=null;return t.payload&&(a=parseFloat(t.payload.value)),z({},e,{loanDuration:a=a&&isNaN(a)?e.loanDuration:a,loanDurationHandleValue:a+" "+h.loanDurationRange.unit,fetchData:t.payload.fetchFromDB});case O:return z({},e,{loanAmount:t.payload.principal.amount,loanDuration:t.payload.numPayments,loanAmountHandleValue:t.payload.principal.amount+" "+t.payload.principal.currency,loanDurationHandleValue:t.payload.numPayments+" "+h.loanDurationRange.unit,fetchData:!0,addToHistory:t.payload.addToHistory});case E:return z({},e,{isFetchingData:!0,fetchData:!1});case j:var r=t.payload,o=r.interestRate,i=r.monthlyPayment,l=r.numPayments,s=z({},e,{isFetchingData:!1,interestRate:100*o+"%",monthlyPayment:i.amount,currencyUnit:i.currency,totalPayableAmount:i.amount*l+" "+i.currency});return e.addToHistory?(J.push(t.payload),s.historyData=J.getData()):s.addToHistory=!0,s;case w:return z({},e,{isFetchingData:!1,showAlert:!0});case N:return z({},e,{showAlert:!1});case D:return J.clear(),z({},e,{historyData:J.getData()});default:return e}},$="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):B.c,G=Object(B.d)(Y,$(Object(B.a)(X.a)));G.subscribe(function(){var e=G.getState(),t=e.fetchData,n=e.loanAmount,a=e.loanDuration,r=e.isFetchingData;t&&!r&&G.dispatch(S.getData({loanAmount:n,loanDuration:a}))});var K=G;i.a.render(r.a.createElement(m.a,{store:K},r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[159,1,2]]]);