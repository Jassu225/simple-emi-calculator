(window["webpackJsonpsimple-emi-calculator"]=window["webpackJsonpsimple-emi-calculator"]||[]).push([[0],{159:function(e,t,n){e.exports=n(386)},375:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t);n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(75),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(207),n(208),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(271),n(272),n(273),n(274),n(277),n(278),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(147),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(369),n(154);var a=n(1),r=n.n(a),o=n(87),i=n.n(o),l=(n(374),n(375),n(25)),s=n(26),c=n(28),u=n(27),d=n(29),m=n(34),p=(n(380),{loanAmountRange:{min:500,max:5e3,unit:"USD"},loanDurationRange:{min:6,max:24,unit:"months"},apiRootURL:"https://ftl-frontend-test.herokuapp.com/interest"}),h=n(56);n(381);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var y=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).getIndex=function(e){var t=n.sliderObject.steps.findIndex(function(t){return t===e});return t>-1?t:0},n.adjustHandleLabel=function(e){var t=n.handle.current.children[0],a=window.getComputedStyle(t),r=a.getPropertyValue("font-size")+" '"+a.getPropertyValue("font-family")+"'",o=n.getWidth(r,t.textContent);n.setState(function(e){return{handleLabelStyle:{width:"calc("+o+" + 1rem)",left:"calc((-"+o+" / 2) - 0.5rem + 4px)"}}})},n.mouseUpHandler=function(e){n.sliderObject.handleInfo.drag=!1},n.handleMouseDown=function(e){e.stopPropagation();var t=e.target.getBoundingClientRect();n.sliderObject.handleInfo.pageX=t.left+t.width/2,n.sliderObject.handleInfo.pageY=t.top+t.height/2,n.sliderObject.handleInfo.drag=!0},n.dragElement=function(e){if(!n.sliderObject.handleInfo.drag)return!1;var t=n.slider.current,a=n.handle.current,r=n.sliderObject.handleInfo,o=r.value,i=o,l=n.sliderObject,s=l.totalPoints,c=l.min,u=l.max,d=t.getBoundingClientRect().width/s,m=a.getBoundingClientRect();r.pageX=m.left+m.width/2,r.pageY=m.top+m.height/2;var p=e.pageX-r.pageX;(i=o+(p<0?-Math.round(-p/d):Math.round(p/d)))<c?i=c:i>u&&(i=u);var y={value:l.steps[i]};return n.props.data&&(y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},y,{userData:n.props.data})),i!=o&&i>=c&&i<=u&&(l.onSlide&&"function"===typeof l.onSlide||!l.onSlide)?(r.value=i,n.props.showHandleLabel&&n.dispatchEvent("resize",window),l.onSlide&&"function"===typeof l.onSlide&&l.onSlide(e,y)||!l.onSlide):void 0},n.sliderMouseDown=function(e){n.dispatchEvent("mousedown",n.handle.current),n.dragElement(e)},n.slider=r.a.createRef(),n.handle=r.a.createRef(),n.sliderObject={totalPoints:0,handleInfo:{value:0,pageX:-1,pageY:-1,drag:!1},min:0,max:0,steps:[],onSlide:null},n.state={handleLabelStyle:{}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.state)!=JSON.stringify(t)||JSON.stringify(this.props)!=JSON.stringify(e)}},{key:"componentWillMount",value:function(){var e=this.props.steps;Array.isArray(e)&&e.length>0&&(this.sliderObject.steps=e,this.sliderObject.totalPoints=e.length-1,this.sliderObject.max=e.length-1,this.sliderObject.onSlide=this.props.onSlide&&"function"===typeof this.props.onSlide?this.props.onSlide:null)}},{key:"componentDidMount",value:function(){var e=this;window.setTimeout(function(){var t=e.props.steps;Array.isArray(t)&&t.length>0&&(document.addEventListener("mousemove",e.dragElement),document.addEventListener("mouseup",e.mouseUpHandler),e.props.showHandleLabel&&(window.addEventListener("resize",e.adjustHandleLabel),e.dispatchEvent("resize",window)))},0)}},{key:"componentDidUpdate",value:function(){var e=this;console.log("updated");var t="",n=!1;this.props.value?t=this.props.value:n=!0,this.sliderObject.handleInfo.value=this.getIndex(t);var a=this.sliderObject,r=a.min,o=a.totalPoints,i=this.handle.current;this.sliderObject.handleInfo.value=n?this.sliderObject.handleInfo.value:this.getIndex(t),i.style.left=this.calcPosition(this.sliderObject.handleInfo.value,r,o,i),this.props.showHandleLabel&&window.setTimeout(function(t){return e.dispatchEvent("resize",window)},0)}},{key:"getWidth",value:function(e,t){var n=document.createElement("canvas").getContext("2d");return n.font=e,n.measureText(t).width+"px"}},{key:"dispatchEvent",value:function(e,t){var n=new Event(e,{view:window,bubbles:!0,cancelable:!1});t.dispatchEvent(n)}},{key:"calcPosition",value:function(e,t,n,a){return"calc("+((e-t)/n*100+"%")+" - "+a.getBoundingClientRect().width/2+"px)"}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui-slider"+(this.props.className?" "+this.props.className:""),ref:this.slider,onMouseDown:this.sliderMouseDown},r.a.createElement("div",{className:"ui-slider-handle",tabIndex:"1",draggable:!1,ref:this.handle,onMouseDown:this.handleMouseDown,onDragStart:function(e){return e.preventDefault()}},this.props.showHandleLabel&&r.a.createElement("div",{className:"ui-slider-handle-label",style:this.state.handleLabelStyle},this.props.value)))}}]),t}(a.Component),v=(n(382),n(157)),g=n.n(v),b=function(e,t){return{type:e,payload:t}},O="updateLoanAmount",D="updateLoanDuration",w="loadFromHistory",j="requestInitiated",E="responseReceived",N="requestFailed",A="hideAlert",S={updateLoanAmount:function(e){return b(O,e)},updateLoanDuration:function(e){return b(D,e)},loadFromHistory:function(e){return b(w,e)},requestInitiated:function(e){return b(j)},responseReceived:function(e){return b(E,e)},requestFailed:function(e){return b(N,e)},hideAlert:function(e){return b(A)},getData:function(e){var t=e.loanAmount,n=e.loanDuration,a=p.loanAmountRange,r=p.loanDurationRange;return t&&n&&!isNaN(parseFloat(t))&&!isNaN(parseInt(n))&&t>=a.min&&t<=a.max&&n>=r.min&&n<=r.max?function(e){var a=!1;return e(S.requestInitiated()),g()("".concat(p.apiRootURL,"?amount=").concat(t,"&numMonths=").concat(n)).then(function(e){return e.json()},function(t){e(S.requestFailed({error:t})),a=!0}).then(function(t){a||e(S.responseReceived(t))})}:function(e){return e(S.requestFailed({error:""}))}}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).historyItemClicked=function(e){var t=n.props.historyData[e];n.props.loadDataFromHistory(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{addToHistory:e!=n.props.historyData.length-1}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props);for(var t=[],n=this.props.historyData?this.props.historyData:[],a=function(a){t.push(r.a.createElement("div",{className:"history-item",key:a},r.a.createElement("div",{className:"history-loan-amount"},n[a].principal.amount+" "+n[a].principal.currency),r.a.createElement("div",{className:"history-loan-duration"},n[a].numPayments+" "+p.loanDurationRange.unit),r.a.createElement("div",{className:"action-container"},r.a.createElement("div",{className:"action btn",onClick:function(t){return e.historyItemClicked(a)}},"view"))))},o=0;o<n.length;o++)a(o);return r.a.createElement("div",{className:"history"},r.a.createElement("div",{className:"history-header"},r.a.createElement("div",{className:"title"},"History"),r.a.createElement("div",{className:"sub-headers"},r.a.createElement("div",null,"Loan Amount"),r.a.createElement("div",null,"Duration"),r.a.createElement("div",null,"Action"))),r.a.createElement("div",{className:"history-content"},t))}}]),t}(a.Component),H=Object(m.b)(function(e){return{historyData:e.historyData}},function(e){return{loadDataFromHistory:function(t){return e(S.loadFromHistory(t))}}})(R),I=(n(383),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.monthlyPayment*(this.props.isFetchingData?this.props.lastLoanDuration:this.props.loanDuration);return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"main-header"},"EMI Info"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"interest-rate header"},"Interest Rate:"),r.a.createElement("div",{className:"interest-rate value"},this.props.interestRate),r.a.createElement("div",{className:"monthly-payment header"},"Monthly Payment:"),r.a.createElement("div",{className:"monthly-payment value"},this.props.monthlyPayment+" "+this.props.currencyUnit),r.a.createElement("div",{className:"total-payment header"},"Total Amount Payable:"),r.a.createElement("div",{className:"total-payment value"},e+" "+this.props.currencyUnit)))}}]),t}(a.Component)),L=Object(m.b)(function(e,t){return{loanAmount:e.loanAmount,loanDuration:e.loanDuration,currencyUnit:e.currencyUnit,interestRate:e.interestRate,monthlyPayment:e.monthlyPayment,isFetchingData:e.isFetchingData,lastLoanDuration:e.lastLoanDuration}})(I),k=(n(384),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"title"},"fetching"),r.a.createElement("div",{className:"ring"})))}}]),t}(a.Component)),F=(n(385),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).hide=function(e){window.clearTimeout(n.timeoutID),n.setState({style:{top:"-2.5rem"}}),n.status=1},n.transitionEnded=function(e){1==n.status&&n.props.hideAlert()},n.state={style:{top:"-2.5rem"}},n.timeoutID=null,n.status=0,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.setTimeout(function(t){e.setState({style:{top:"0.7rem"}}),e.timeoutID=window.setTimeout(e.hide,3e3)},0)}},{key:"render",value:function(){var e=this.props.message?this.props.message:"some error occurred.";return r.a.createElement("div",{className:"alert-dialog",style:this.state.style,onTransitionEnd:this.transitionEnded},r.a.createElement("div",{className:"message"},e),r.a.createElement("div",{className:"closeBtn",onClick:this.hide},"\u2715"))}}]),t}(a.Component)),x=Object(m.b)(null,function(e,t){return{hideAlert:function(t){return e(S.hideAlert())}}})(F),C=n(57),U=n(158),T={getData:function(){var e=window.localStorage.getItem("history");return e?JSON.parse(e):[]},push:function(e){if(e){var t=this.getData();t.push(e),window.localStorage.setItem("history",JSON.stringify(t))}}};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(h.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={loanAmount:p.loanAmountRange.min,currencyUnit:"USD",lastLoanDuration:p.loanDurationRange.min,loanDuration:p.loanDurationRange.min,interestRate:0,monthlyPayment:0,historyData:T.getData(),loanAmountHandleValue:p.loanAmountRange.min+" "+p.loanAmountRange.unit,loanDurationHandleValue:p.loanDurationRange.min+" "+p.loanDurationRange.unit,addToHistory:!0,fetchData:!1,isFetchingData:!1,showAlert:!1,serverData:null},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n=null;return t.payload&&(n=parseFloat(t.payload)),V({},e,{loanAmount:n=n&&isNaN(n)?e.loanAmount:n,loanAmountHandleValue:n+" "+p.loanAmountRange.unit,fetchData:!0});case D:var a=null;return t.payload&&(a=parseFloat(t.payload)),a=a&&isNaN(a)?e.loanDuration:a,V({},e,{lastLoanDuration:e.loanDuration,loanDuration:a,loanDurationHandleValue:a+" "+p.loanDurationRange.unit,fetchData:!0});case w:return V({},e,{loanAmount:t.payload.principal.amount,loanDuration:t.payload.numPayments,loanAmountHandleValue:t.payload.principal.amount+" "+t.payload.principal.currency,loanDurationHandleValue:t.payload.numPayments+" "+p.loanDurationRange.unit,fetchData:!0,addToHistory:t.payload.addToHistory});case j:return V({},e,{isFetchingData:!0,fetchData:!1});case E:console.log(t.payload);var r=t.payload,o=r.interestRate,i=r.monthlyPayment,l=V({},e,{isFetchingData:!1,interestRate:100*o+"%",monthlyPayment:i.amount,currencyUnit:i.currency});return e.addToHistory?(T.push(t.payload),l.historyData=T.getData()):l.addToHistory=!0,l;case N:return V({},e,{isFetchingData:!1,showAlert:!0});case A:return V({},e,{showAlert:!1});default:return e}},J="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):C.c,q=Object(C.d)(X,J(Object(C.a)(U.a)));q.subscribe(function(){var e=q.getState(),t=e.fetchData,n=e.loanAmount,a=e.loanDuration,r=e.isFetchingData;t&&!r&&q.dispatch(S.getData({loanAmount:n,loanDuration:a}))});var B=q,z=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onSlide=function(e,t){(0,B.dispatch)(t.userData.action(t.value))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"generateRange",value:function(e,t,n){for(var a=[],r=e;r<=t;r++)a.push(r+" "+n);return a}},{key:"render",value:function(){var e=this.generateRange(p.loanAmountRange.min,p.loanAmountRange.max,this.props.currencyUnit),t=this.generateRange(p.loanDurationRange.min,p.loanDurationRange.max,p.loanDurationRange.unit);return r.a.createElement("div",{className:"App"},r.a.createElement(H,null),r.a.createElement("div",{className:"sliders"},r.a.createElement("div",{className:"header"},"Selections"),r.a.createElement("div",{className:"slider-selection loanAmount"},r.a.createElement("div",{className:"slider-selection-header"},"Loan Amount: "),r.a.createElement("div",{className:"slider-selection-value"},this.props.loanAmount+" "+this.props.currencyUnit)),r.a.createElement("div",{className:"slider-container"},r.a.createElement(y,{steps:e,data:{stateProp:"loanAmount",action:S.updateLoanAmount},showHandleLabel:!0,className:"loanAmountSlider",onSlide:this.onSlide,value:this.props.loanAmountHandleValue})),r.a.createElement("div",{className:"slider-selection loanDuration"},r.a.createElement("div",{className:"slider-selection-header"},"Duration: "),r.a.createElement("div",{className:"slider-selection-value"},this.props.loanDuration+" "+p.loanDurationRange.unit)),r.a.createElement("div",{className:"slider-container"},r.a.createElement(y,{steps:t,data:{stateProp:"loanDuration",action:S.updateLoanDuration},showHandleLabel:!0,className:"loanDurationSlider",onSlide:this.onSlide,value:this.props.loanDurationHandleValue}))),r.a.createElement(L,null),this.props.isFetchingData&&r.a.createElement(k,null),this.props.showAlert&&r.a.createElement(x,{message:"some error occurred. Please try again."}))}}]),t}(r.a.Component),W=Object(m.b)(function(e,t){return{loanAmount:e.loanAmount,loanDuration:e.loanDuration,currencyUnit:e.currencyUnit,loanAmountHandleValue:e.loanAmountHandleValue,loanDurationHandleValue:e.loanDurationHandleValue,isFetchingData:e.isFetchingData,showAlert:e.showAlert}})(z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(m.a,{store:B},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[159,1,2]]]);
//# sourceMappingURL=main.431646e7.chunk.js.map